{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\"; // 引入 Axios\nexport default {\n  data() {\n    return {\n      bio: this.$route.query.bio || \"\",\n      // 让 bio 成为可编辑的状态\n      username: this.$route.query.username || \"\",\n      // 获取用户名\n      password: this.$route.query.password || \"\" // 用于保存用户输入的密码\n    };\n  },\n  methods: {\n    // 保存修改信息\n    async saveChanges() {\n      try {\n        // 发送 PUT 请求到后端保存修改信息\n        const response = await axios.put(\"http://localhost:5000/api/users/update\", {\n          username: this.username,\n          password: this.password,\n          // 传递密码\n          bio: this.bio // 传递个人简介\n        });\n        console.log(\"修改后的个人信息已保存:\", response.data);\n        alert(\"个人信息已保存！\");\n      } catch (error) {\n        console.error(\"保存信息时发生错误:\", error);\n        alert(`${error}`);\n      }\n    },\n    // 注销并删除账户\n    async deleteAccount() {\n      try {\n        if (confirm(\"确定要注销账户吗？此操作不可撤销\")) {\n          // 发送 DELETE 请求到后端删除用户\n          const response = await axios.delete(`http://localhost:5000/api/users/delete/${this.username}`);\n          console.log(\"用户账户已删除:\", response.data);\n          alert(\"您的账户已被删除\");\n          // 重定向到登录页面或其他页面\n          this.$router.push(\"/login\");\n        }\n      } catch (error) {\n        console.error(\"注销账户时发生错误:\", error);\n        alert(\"删除账户失败，请稍后再试。\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","bio","$route","query","username","password","methods","saveChanges","response","put","console","log","alert","error","deleteAccount","confirm","delete","$router","push"],"sources":["/home/xuan/selfwork/frontend/src/views/Data_fuc.vue"],"sourcesContent":["/* eslint-disable */\n<template>\n  <div class=\"user-container\">\n    <h1>Welcome, {{ username }}</h1>\n\n    <div class=\"info-container\">\n      <div class=\"user-info-box\">\n        <label for=\"username\">用户名</label>\n        <input\n          v-model=\"username\"\n          type=\"text\"\n          id=\"username\"\n          placeholder=\"请输入用户名\"\n          class=\"input-field\"\n        />\n        <label for=\"password\">密码</label>\n        <input\n          v-model=\"password\"\n          type=\"text\"\n          id=\"password\"\n          placeholder=\"请输入密码\"\n          class=\"input-field\"\n        />\n        <label for=\"bio\">个人简介</label>\n        <input\n          v-model=\"bio\"\n          type=\"text\"\n          id=\"bio\"\n          placeholder=\"请输入个人简介\"\n          class=\"input-field2\"\n        />\n      </div>\n    </div>\n\n    <div class=\"action-buttons\">\n      <button @click=\"saveChanges\" class=\"save-btn\">保存修改</button>\n      <button @click=\"deleteAccount\" class=\"delete-btn\">注销账户</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\"; // 引入 Axios\nexport default {\n  data() {\n    return {\n      bio: this.$route.query.bio || \"\", // 让 bio 成为可编辑的状态\n      username: this.$route.query.username || \"\", // 获取用户名\n      password: this.$route.query.password || \"\", // 用于保存用户输入的密码\n    };\n  },\n  methods: {\n    // 保存修改信息\n    async saveChanges() {\n      try {\n        // 发送 PUT 请求到后端保存修改信息\n        const response = await axios.put(\"http://localhost:5000/api/users/update\", {\n          username: this.username,\n          password: this.password, // 传递密码\n          bio: this.bio, // 传递个人简介\n        });\n        console.log(\"修改后的个人信息已保存:\", response.data);\n        alert(\"个人信息已保存！\");\n      } catch (error) {\n        console.error(\"保存信息时发生错误:\", error);\n        alert(`${error}`);\n      }\n    },\n    // 注销并删除账户\n    async deleteAccount() {\n      try {\n        if (confirm(\"确定要注销账户吗？此操作不可撤销\")) {\n          // 发送 DELETE 请求到后端删除用户\n          const response = await axios.delete(\n            `http://localhost:5000/api/users/delete/${this.username}`\n          );\n          console.log(\"用户账户已删除:\", response.data);\n          alert(\"您的账户已被删除\");\n          // 重定向到登录页面或其他页面\n          this.$router.push(\"/login\");\n        }\n      } catch (error) {\n        console.error(\"注销账户时发生错误:\", error);\n        alert(\"删除账户失败，请稍后再试。\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 容器样式 */\n.user-container {\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n  font-family: 'Arial', sans-serif;\n  text-align: center;\n}\n\n/* 信息框容器样式 */\n.info-container {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-bottom: 20px;\n}\n\n/* 用户信息框样式 */\n.user-info-box {\n  background-color: #f8f9fa;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* 输入框样式 */\n.input-field {\n  width: 100%;\n  padding: 10px;\n  margin-bottom: 15px;\n  border-radius: 5px;\n  border: 1px solid #ced4da;\n  font-size: 1rem;\n}\n\n.input-field2 {\n  width: 100%;\n  height: 100px;\n  padding: 10px;\n  margin-bottom: 0px;\n  align-items:first baseline;\n  /* border-radius: 0px; */\n  border: 1px solid #ced4da;\n  font-size: 1rem;\n  text-align: left; /* 内容左对齐 */\n  box-sizing: border-box; /* 确保 padding 不影响实际宽度和高度 */\n  resize: none; /* 可选，禁用用户调整文本区域大小 */\n}\n\n/* 操作按钮的样式 */\n.action-buttons {\n  display: flex;\n  justify-content: space-between;\n}\n\n.save-btn,\n.delete-btn {\n  padding: 10px 20px;\n  font-size: 1.1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  border: none;\n  transition: background-color 0.3s ease;\n}\n\n.save-btn {\n  background-color: #28a745;\n  color: white;\n}\n\n.save-btn:hover {\n  background-color: #218838;\n}\n\n.delete-btn {\n  background-color: #dc3545;\n  color: white;\n}\n\n.delete-btn:hover {\n  background-color: #c82333;\n}\n</style>"],"mappings":";AA0CA,OAAOA,KAAI,MAAO,OAAO,EAAE;AAC3B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,GAAE,IAAK,EAAE;MAAE;MAClCG,QAAQ,EAAE,IAAI,CAACF,MAAM,CAACC,KAAK,CAACC,QAAO,IAAK,EAAE;MAAE;MAC5CC,QAAQ,EAAE,IAAI,CAACH,MAAM,CAACC,KAAK,CAACE,QAAO,IAAK,EAAE,CAAE;IAC9C,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACA,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI;QACF;QACA,MAAMC,QAAO,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,wCAAwC,EAAE;UACzEL,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UAAE;UACzBJ,GAAG,EAAE,IAAI,CAACA,GAAG,CAAE;QACjB,CAAC,CAAC;QACFS,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEH,QAAQ,CAACR,IAAI,CAAC;QAC1CY,KAAK,CAAC,UAAU,CAAC;MACnB,EAAE,OAAOC,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;QAClCD,KAAK,CAAC,GAAGC,KAAK,EAAE,CAAC;MACnB;IACF,CAAC;IACD;IACA,MAAMC,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,IAAIC,OAAO,CAAC,kBAAkB,CAAC,EAAE;UAC/B;UACA,MAAMP,QAAO,GAAI,MAAMT,KAAK,CAACiB,MAAM,CACjC,0CAA0C,IAAI,CAACZ,QAAQ,EACzD,CAAC;UACDM,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEH,QAAQ,CAACR,IAAI,CAAC;UACtCY,KAAK,CAAC,UAAU,CAAC;UACjB;UACA,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;QAC7B;MACF,EAAE,OAAOL,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;QAClCD,KAAK,CAAC,eAAe,CAAC;MACxB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}